--- a/drivers/gpio/gpiolib.c
+++ b/drivers/gpio/gpiolib.c

 @@ -123,6 +123,9 @@
  */
 static struct gpio_desc *gpio_to_desc(unsigned gpio)
 {
-        if (WARN(!gpio_is_valid(gpio), "invalid GPIO %d\n", gpio))
+        if (gpio == -EPROBE_DEFER)
+                return NULL;
+        else if (WARN(!gpio_is_valid(gpio), "invalid GPIO %d\n", gpio))
                 return NULL;
         else
                 return &gpio_desc[gpio];
